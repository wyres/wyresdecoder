var wyresdecoder=function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(n,a,function(r){return e[r]}.bind(null,a));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";function n(e){return r=s(e),t={},r.forEach((function(e){var r=e.v;switch(e.t){case"00":var n=parseInt("0x"+r.substring(0,2)),a=parseInt("0x"+r.substring(2,4)),s=parseInt("0x"+r.substring(6,8)+r.substring(4,6)),g=parseInt(""+s),v=i(r,8),d=_.find([{hash:3073671017,label:"wbasev2_sobat_eu868_filleBLE_dev"},{hash:3647927579,label:"wbasev2_tomat_eu868_filleGPSBLE_dev"},{hash:883332667,label:"wbasev2_sobat_eu868_filleBLE_prod"},{hash:4067916045,label:"wbasev2_tomat_eu868_filleBLE_dev"},{hash:1877577695,label:"wbasev2_tomat_eu868_filleBLE_prod"},{hash:970323733,label:"wbasev2_tomat_eu868_filleGPSBLE_prod"},{hash:729649863,label:"wbasev2_topas_eu868_filleBLE_dev"},{hash:2834278809,label:"wbasev2_topas_eu868_filleBLE_prod"}],(function(e){return e.hash===v}));t.version=f({version:n+"."+a,build:+g,product:d?d.label:v});break;case"06":n=r.substring(0,2),a=r.substring(2,4),t.light=f(parseInt(""+parseInt("0x"+a+n)));break;case"07":n=r.substring(0,2),a=r.substring(2,4),s=r.substring(4,6),t.battery=f(parseInt(""+parseInt("0x"+s+a+n))/1e3);break;case"12":if(0===r.length){t.bleCurrent=p("no iBeacon seen");break}t.bleCurrent=f(l(r));break;case"15":if(0===r.length){t.bleCurrent=p("no iBeacon seen");break}t.bleCount=f(c(r));break;case"0f":var h="unknown";switch(n=parseInt(r.substring(0,2))){case 0:h="UpRight";break;case 1:h="Inverted";break;case 2:h="Flat Back";break;case 3:h="Flat Face";break;case 4:h="Unknown";break;default:h="Unknown: "+n}a=r.substring(2,4),s=r.substring(4,6);var k=r.substring(6,8);t.orientation=f({x:u(a),y:u(s),z:u(k),general_orientation:h});break;case"03":n=r.substring(0,2),a=r.substring(2,4),t.temperature=f(parseInt("0x"+a+n)/100);break;case"04":t.pressure=f(i(r,0)/100);break;case"13":t.bleEnter=f([]);for(var m=0;m<r.length/10;m++){var I=r.substring(0+10*m,2+10*m),x=r.substring(2+10*m,4+10*m),S=r.substring(4+10*m,6+10*m),y=r.substring(6+10*m,8+10*m),w=r.substring(8+10*m,10+10*m);t.bleEnter.data.push({major:"00"+I,minor:S+x,rssi:u(y),xB:w})}break;case"14":for(t.bleExit=f([]),m=0;m<r.length/6;m++)I=r.substring(0+6*m,2+6*m),x=r.substring(2+6*m,4+6*m),S=r.substring(4+6*m,6+6*m),t.bleExit.data.push({major:"00"+I,minor:S+x});break;case"0a":break;case"0c":t.move=f(b(r));break;case"0d":t.fall=f(b(r));break;case"0e":t.shock=f(b(r));break;case"01":t.uptime=f(b(r));break;case"0b":var E=r.substring(16,18),B=r.substring(18,20),j=moment.duration(1e3*i(r,0)),O=moment.duration(1e3*i(r,8));t.button=f({from:j.toISOString(),to:O.toISOString(),btn:E,pressType:B});break;case"16":if(0===r.length){t.gps=p("check done, no FIX");break}var F=convertRawGPS(i(r,0)),P=convertRawGPS(i(r,8)),L=i(r,16)/10,C=i(r,24)/10,U=i(r,32),G=parseInt("0x"+r.substring(40,42));t.gps=f({lat:parseFloat(F).toFixed(5),lon:parseFloat(P).toFixed(5),alt:L,precision:C,timestamp:U,nsats:G});break;case"19":if(0===r.length){t.presence=p("no presence iBeacon seen");break}n=r.substring(0,2),a=r.substring(2,4);var M="";for(m=(s=r.substring(2,r.length)).length/4-1;m>=0;m--)M+=s[4*m+0],M+=s[4*m+1],M+=s[4*m+2],M+=s[4*m+3];var R="81"+n+"-00",T=o(M);for(t.presence=f([]),m=T.length-1;m>=0;m--)if(1===parseInt(T[m])){var A=T.length-1-m;t.presence.data.push(R+A.toString(16).padStart(2,"0"))}break;default:console.log("Unknown key [",e.t,"]",r)}})),t;var r,t}function a(e){let r="";return e.forEach((function(e){r+=("0"+Number(e).toString(16)).slice(-2).toUpperCase()})),r}t.r(r),t.d(r,"parseAndInterprete",(function(){return n})),t.d(r,"convertFromArray",(function(){return a}));var s=function(e){for(var r=[],t=4;t<e.length;){var n,a,s="";n=e[t]+e[t+1]+"",a=parseInt("0x"+e[t+2]+e[t+3]);for(var o=t+4;o<t+4+2*a;o+=2)s+=""+e[o]+e[o+1];r.push({t:n,l:a,v:s}),t=t+4+2*a}return r};let o=function(e){return parseInt(e,16).toString(2).padStart(8,"0")},u=function(e){let r=parseInt("0x"+e);return r>128?r-256:r},i=function(e,r){var t=e.substring(r,r+2),n=e.substring(r+2,r+4),a=e.substring(r+4,r+6),s=e.substring(r+6,r+8);return parseInt("0x"+s+a+n+t)},b=function(e){return moment.duration(1e3*i(e,0)).toISOString()},l=function(e){for(var r=((e="00"+e).length-2)/10,t=[],n=0;n<r;n++){let r=e.substr(0+10*n,4),a=e.substr(6+10*n,2)+e.substr(4+10*n,2),s=parseInt(""+parseInt("0x"+e.substr(8+10*n,2)))-254;t.push({major:r,minor:a,rssi:s})}return t},c=function(e){for(var r=[],t=e.length/4,n=0;n<t;n++)r.push({type:e[4*n]+e[4*n+1],count:parseInt("0x"+e[4*n+2]+e[4*n+3])});return r},f=function(e){return{data:e}},p=function(e){return{error:e}}}]);